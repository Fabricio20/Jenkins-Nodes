language: bash
services: docker

script:
  - docker build -t fabricio20/jenkins-nodes:maven-jdk11 maven-jdk11
  - docker build -t fabricio20/jenkins-nodes:maven-jdk8 maven-jdk8
  - docker build -t fabricio20/jenkins-nodes:gradle-jdk11 gradle-jdk11
  - docker build -t fabricio20/jenkins-nodes:gradle-jdk8 gradle-jdk8

deploy:
  provider: script
  script: bash docker_push.sh
  on:
    branch: master
